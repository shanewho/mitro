var client=null;console={log:function(a){try{client&&client.console_log&&client.console_log(Array.prototype.slice.call(arguments))}catch(c){}}};"undefined"===typeof window&&(window={});importScripts("js/client.js");client=new Client("worker");onmessage=function(a){a=a.data;a.sendResponse=function(a){a=client.composeResponse(this,a);postMessage(JSON.parse(JSON.stringify(a)))};client.processIncoming(a)};client.addSender("background",function(a){postMessage(JSON.parse(JSON.stringify(a)))});
try{importScripts("js/config.js","lru_cache.js","jsbn.js","asn1.js","pkcs1.js","rsa.js","oids.js","pki.js","util.js","sha1.js","sha256.js","prng.js","aes.js","random.js","pbkdf2.js","hmac.js","keyczar_util.js","keyczar.js","URI.js","utils.js","domain.js","cookielib.js","crypto.js","helpers.js","mitro_lib.js","kew.js","mitroclient.js","mitro_legacyapi.js","mitro_fe.js")}catch(e$$12){console.log("exception"+JSON.stringify(e$$12)),console.log("exception"+JSON.stringify(e$$12.stack))}
var extensionId="unknown",setExtensionId=function(a){extensionId=a};mitro.fe.setExtensionId=setExtensionId;client.initRemoteCalls("background",["getNewRSAKeysAsync","console_log","ajax","getRandomness"]);
client.initRemoteExecution("background","setExtensionId signMessageAsync startCacheFiller setFailover setDeviceId getDeviceId getDeviceIdAsync workerInvokeOnIdentity createIdentity workerCreateIdentity workerLogin workerLoginWithToken workerLoginWithTokenAndLocalKey login loginWithToken loginWithTokenAndLocalKey addIssue initCacheFromFile initCacheFromJson clearCaches bidirectionalSetDiff workerLogout".split(" "),mitro.fe);
var keyCacheProxy={getNewRSAKeysAsync:function(a,c,e){client.getNewRSAKeysAsync(a,function(a){for(var d=[],b=0;b<a.length;++b)d.push(mitro.crypto.loadFromJson(a[b]));c(d)},e)}};mitro.fe.setKeyCache(keyCacheProxy);mitro.fe.getRandomness=client.getRandomness;mitro.rpc=mitro.rpc||{};mitro.rpc._PostToMitro=client.ajax;getExtensionId=function(){return extensionId};
