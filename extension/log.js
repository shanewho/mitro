(function(){function k(a){a.log=a.log||{};a.log.levels="none error warning info debug verbose max".split(" ");var g={},d=[],e=null;a.log.LEVEL_LOCKED=2;a.log.NO_LEVEL_CHECK=4;a.log.INTERPOLATE=8;for(var b=0;b<a.log.levels.length;++b){var h=a.log.levels[b];g[h]={index:b,name:h.toUpperCase()}}a.log.logMessage=function(c){for(var n=g[c.level].index,b=0;b<d.length;++b){var f=d[b];f.flags&a.log.NO_LEVEL_CHECK?f.f(c):n<=g[f.level].index&&f.f(f,c)}};a.log.prepareStandard=function(a){"standard"in a||(a.standard=
g[a.level].name+" ["+a.category+"] "+a.message)};a.log.prepareFull=function(c){if(!("full"in c)){var b=[c.message],b=b.concat([]);c.full=a.util.format.apply(this,b)}};a.log.prepareStandardFull=function(c){"standardFull"in c||(a.log.prepareStandard(c),c.standardFull=c.standard)};h=["error","warning","info","debug","verbose"];for(b=0;b<h.length;++b)(function(c){a.log[c]=function(b,d){var f=Array.prototype.slice.call(arguments).slice(2);a.log.logMessage({timestamp:new Date,level:c,category:b,message:d,
arguments:f})}})(h[b]);a.log.makeLogger=function(c){c={flags:0,f:c};a.log.setLevel(c,"none");return c};a.log.setLevel=function(c,b){var d=!1;if(c&&!(c.flags&a.log.LEVEL_LOCKED))for(var f=0;f<a.log.levels.length;++f)if(b==a.log.levels[f]){c.level=b;d=!0;break}return d};a.log.lock=function(c,b){c.flags="undefined"===typeof b||b?c.flags|a.log.LEVEL_LOCKED:c.flags&~a.log.LEVEL_LOCKED};a.log.addLogger=function(a){d.push(a)};if("undefined"!==typeof console&&"log"in console){if(console.error&&console.warn&&
console.info&&console.debug)var k={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},e=function(b,d){a.log.prepareStandard(d);var e=k[d.level],f=[d.standard],f=f.concat(d.arguments.slice());e.apply(console,f)};else e=function(b,d){a.log.prepareStandardFull(d);console.log(d.standardFull)};e=a.log.makeLogger(e);a.log.setLevel(e,"debug");a.log.addLogger(e)}else console={log:function(){}};null!==e&&(b=a.util.getQueryVariables(),"console.level"in b&&
a.log.setLevel(e,b["console.level"].slice(-1)[0]),"console.lock"in b&&"true"==b["console.lock"].slice(-1)[0]&&a.log.lock(e));a.log.consoleLogger=e}if("function"!==typeof define)if("object"===typeof module&&module.exports){var p=!0;define=function(a,g){g(require,module)}}else return"undefined"===typeof forge&&(forge={}),k(forge);var l,q=function(a,g){g.exports=function(d){var e=l.map(function(b){return a(b)}).concat(k);d=d||{};d.defined=d.defined||{};if(d.defined.log)return d.log;d.defined.log=!0;
for(var b=0;b<e.length;++b)e[b](d);return d.log}},m=define;define=function(a,g){l="string"===typeof a?g.slice(2):a.slice(2);if(p)return delete define,m.apply(null,Array.prototype.slice.call(arguments,0));define=m;return define.apply(null,Array.prototype.slice.call(arguments,0))};define(["require","module","./util"],function(){q.apply(null,Array.prototype.slice.call(arguments,0))})})();
