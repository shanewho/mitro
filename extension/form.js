(function(k){var l={},m=/(.*?)\[(.*?)\]/g,n=function(b){for(var a=[],f;f=m.exec(b);)0<f[1].length&&a.push(f[1]),2<=f.length&&a.push(f[2]);0===a.length&&a.push(b);return a},p=function(b,a,f,g){for(var d=[],e=0;e<a.length;++e){var h=a[e];if(-1!==h.indexOf("[")&&-1===h.indexOf("]")&&e<a.length-1){do h+="."+a[++e];while(e<a.length-1&&-1===a[e].indexOf("]"))}d.push(h)}a=d;d=[];k.each(a,function(a,b){d=d.concat(n(b))});a=d;k.each(a,function(e,c){g&&0!==c.length&&c in g&&(c=g[c]);0===c.length&&(c=b.length);
if(b[c])e==a.length-1?(k.isArray(b[c])||(b[c]=[b[c]]),b[c].push(f)):b=b[c];else if(e==a.length-1)b[c]=f;else{var d=a[e+1];b[c]=0===d.length?[]:d-0==d&&0<d.length?[]:{};b=b[c]}})};l.serialize=function(b,a,f){var g={};a=a||".";k.each(b.serializeArray(),function(){p(g,this.name.split(a),this.value||"",f)});return g};"undefined"===typeof forge&&(forge={});forge.form=l})(jQuery);
