describe("roboform",function(){it("fails on bad HTML",function(){try{throw parseHtml("hello world"),Error("expected exception");}catch(a){}});it("parses empty XML",function(){passwords=[];var a=parseHtml('<TABLE width="100%"><TR align=left><TD class="caption" colspan=3></TD></TR><TR align=left><TD class="subcaption" colspan=3><WBR></TD></TR><TR><TD class=field align=left valign=top width="40%">ses<WBR>sion[use<WBR>rname_or<WBR>_email]</TD><TD></TD><TD class=wordbreakfield align=left valign=top width="55%"></TD></TR><TR><TD class=field align=left valign=top width="40%">ses<WBR>sion[pas<WBR>sword]</TD><TD></TD><TD class=wordbreakfield align=left valign=top width="55%"></TD></TR><TR><TD class=field align=left valign=top width="40%"><WBR></TD><TD></TD><TD class=wordbreakfield align=left valign=top width="55%">*</TD></TR></TABLE>');
expect(a.length).toBe(1);expect(a[0].username).toBe("");expect(a[0].password).toBe("");expect(a[0].loginurl).toBe("");expect(a[0].title).toBe("")});it("parses data",function(){passwords=[];var a=parseHtml('<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table width="100%"><tbody><tr align="left"><td class="caption" colspan="3">title</td></tr><tr align="left"><td class="subcaption" colspan="3">Exa<wbr>mple.com</td></tr><tr><td class="field" align="left" valign="top" width="40%">ses<wbr>sion[use<wbr>rname_or<wbr>_email]</td><td></td><td class="wordbreakfield" align="left" valign="top" width="55%">user</td></tr><tr><td class="field" align="left" valign="top" width="40%">ses<wbr>sion[pas<wbr>sword]</td><td></td><td class="wordbreakfield" align="left" valign="top"width="55%">password</td></tr><tr><td class="field" align="left" valign="top" width="40%">rem<wbr>ember_me</td><td></td><td class="wordbreakfield" align="left" valign="top" width="55%">*</td></tr></tbody></table></body></html>');
expect(a.length).toBe(1);expect(a[0].username).toBe("user");expect(a[0].password).toBe("password");expect(a[0].loginurl).toBe("Example.com");expect(a[0].title).toBe("title")})});
