$(document).ready(function(){0<$("#files").length&&$("#files")[0].addEventListener("change",handleFileSelect,!1);$("#add-to-mitro-button").click(function(){$("#add-to-mitro-button").hide();addDataToMitro()})});
function handleFileSelect(a){a=a.target.files[0];var b=new FileReader;if(!a.name.match(".html"))throw alert("Currently the tool only supports html uploads."),Error("Unsupported file type");b.onload=function(a){return function(a){a=parseHtml(a.target.result);appendPasswordsToPage(a)}}(a);b.readAsText(a,"UTF-8");$("#password-list").html("");$("#upload-progress").empty();passwords=[]}
function parseHtml(a){var b=findLoginDataInRoboformTable(a,"caption"),c=findLoginDataInRoboformTable(a,"subcaption"),e=[],f=[];findLoginDataInRoboformTable(a,"wordbreakfield");a=findLoginDataHtmlString(a,"subcaption");var d;for(d=0;d<c.length;d++){var g=$(a[d].parent().next().html()),h=$(a[d].parent().next().next().html());f.push($(g[g.length-1]).text());e.push($(h[h.length-1]).text())}b=cleanArray(b);c=cleanArray(c);e=cleanArray(e);f=cleanArray(f);for(d=0;d<b.length;++d)passwords.push(new Password(f[d],
e[d],c[d],b[d],""));return passwords}function cleanArray(a){for(var b=[],c=0;c<a.length;c++)void 0!==a[c]&&b.push(a[c]);return b}var uploadedHtml;function findLoginDataInRoboformTable(a,b){var c=[];uploadedHtml=a;$.each($(a).find("."+b),function(a,b){c.push($(b).text())});return c}function findLoginDataHtmlString(a,b){var c=[];uploadedHtml=a;$.each($(a).find("."+b),function(a,b){c.push($(b))});return c};
